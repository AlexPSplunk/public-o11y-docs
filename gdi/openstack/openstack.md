(openstack)=

# OpenStack
<meta name="description" content="Use this Splunk Observability Cloud integration for the OpenStack monitor, based on the Python plugin. See benefits, install, configuration, and metrics">

## Description

The {ref}`Splunk Distribution of OpenTelemetry Collector <otel-intro>` provides this integration as the OpenStack monitor type for the Smart Agent Receiver.

Use this monitor to gather metrics from OpenStack instances using the OpenStack Python plugin.

This monitor covers the following OpenStack components:

* Nova (Compute)
* Cinder (Block Storage)
* Neutron (Network)

This integration is available for Kubernetes, Linux, and Windows.

### Benefits

```{include} /_includes/benefits.md
```

## Installation

```{include} /_includes/collector-installation.md
```

## Configuration

```{include} /_includes/configuration.md
```

```{note}
Provide an OpenStack monitor entry in your Collector or Smart Agent (deprecated) configuration. Use the appropriate form for your agent type.
```

### Splunk Distribution of OpenTelemetry Collector

To activate this monitor in the Splunk Distribution of OpenTelemetry Collector, add the following to your agent configuration:

```yaml
receivers:
  smartagent/openstack:
    type: collectd/openstack
    ...  # Additional config
```

To complete the monitor activation, you must also include the `smartagent/openstack` receiver item in a `metrics` pipeline. To do this, add the receiver item to the `service` > `pipelines` > `metrics` > `receivers` section of your configuration file. For example:

```yaml
service:
  pipelines:
    metrics:
      receivers: [smartagent/openstack]
```

### Smart Agent

To activate this monitor in the Smart Agent, add the following to your agent configuration:

```yaml
monitors:  # All monitor config goes under this key
  - type: collectd/openstack
    ...  # Additional config
```

See {ref}`smart-agent` for an autogenerated example of a YAML configuration file, with default values where applicable.

The following is a sample OpenStack Smart Agent monitor configuration:

```yaml
monitors:
- type: collectd/openstack
  authURL: "http://192.168.11.111/identity/v3"
  username: "<admin-username>"
  password: "<admin-password>"
```

The following is an example OpenStack Smart Agent monitor configuration using `skipVerify`:

```yaml
monitors:
- type: collectd/openstack
  authURL: "https://192.168.11.111/identity/v3"
  username: "<admin-username>"
  password: "<admin-password>"
  skipVerify: true
```

### Configuration settings

The following table shows the configuration options for the OpenStack monitor:

| Option | Required | Type | Description |
| --- | --- | --- | --- |
| `pythonBinary` | No | `string` | Path to the Python binary. If not set, a built-in runtime is used. This setting can include arguments to the binary. |
| `authURL` | Yes | `string` | Keystone authentication URL or endpoint for the OpenStack cloud. |
| `username` | Yes | `string` | Username to authenticate with keystone identity. |
| `password` | Yes | `string` | Password to authenticate with keystone identity. |
| `projectName` | No | `string` | Specify the name of the project to be monitored. The default value is `demo`. |
| `projectDomainID` | No | `string` | The project domain. The default value is `default`. |
| `regionName` | No | `string` | The region name for URL discovery. The region name defaults to the first region if multiple regions are available. |
| `userDomainID` | No | `string` | The user domain ID. The default value is `default`. |
| `skipVerify` | No | `bool` | Skips SSL certificate validation. The default value is `false`. |

### Deployment host for the Smart Agent

Identify a host on which the Smart Agent runs. This integration collects data from OpenStack remotely using APIs. The API endpoints must be visible to the host on which the Smart Agent runs.

Don't install the Smart Agent directly on a compute instance, as a compute instance or resource under one project cannot get stats about the resources under other projects. A compute instance might crash due to lack of resources in the project.

## Metrics

The following metrics are available for this integration:

<div class="metrics-yaml" url="https://raw.githubusercontent.com/signalfx/integrations/main/openstack/metrics.yaml"></div>

## Get help

```{include} /_includes/troubleshooting.md
```
